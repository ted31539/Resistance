(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ab2b1c9"],{"47df":function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),c={class:"container w-100 w-lg-75 pb-11"},o={class:"row"},l={class:"col-12 col-lg-6 pb-11"},s={class:"shadow-sm"},n=Object(r["createElementVNode"])("h3",{class:"title"},"顧客資訊",-1),d={class:"form-floating mb-4"},i=Object(r["createElementVNode"])("label",{for:"name"},"姓名:",-1),m={class:"form-floating mb-4"},u=Object(r["createElementVNode"])("label",{for:"email"},"電子信箱:",-1),b={class:"form-floating mb-4"},f=Object(r["createElementVNode"])("label",{for:"tel"},"連絡電話：",-1),p={class:"form-floating mb-4"},h=Object(r["createElementVNode"])("label",{for:"address"},"地址：",-1),v={class:"mb-4"},V=Object(r["createElementVNode"])("label",{for:"formGroupMesage",class:"form-label ms-3"},"想跟我們說的：",-1),O={class:"form-check mb-3"},j=Object(r["createElementVNode"])("label",{class:"form-check-labe",for:"groupCheck"}," 我已閱讀並同意網站條款 ",-1),g=Object(r["createElementVNode"])("button",{type:"submit",class:"btn btn-primary w-100"},"送出訂單",-1),N=Object(r["createStaticVNode"])('<div class="col-12 col-lg-6"><div class="shadow-sm"><h3 class="title">購物須知</h3><div class="bg-light p-4"><div class="mb-4"><p class="fw-bold">商品購買須知</p><p>商品情境照為示意用，因拍攝關係可能略有色差異，實際以廠商出貨為主，並以規格內容物為主。</p></div><div class="mb-4"><p class="fw-bold">商品購買須知</p><p>根據《消費者保護法》，於本站購物皆享有商品到貨「七日猶豫期」（含例假日）的權益。若收到的商品有任何問題，可於猶豫期內申請退貨。</p></div></div></div></div>',1);function E(e,t,a,E,k,w){var C=Object(r["resolveComponent"])("Loading"),x=Object(r["resolveComponent"])("Field"),y=Object(r["resolveComponent"])("ErrorMessage"),M=Object(r["resolveComponent"])("Form");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(C,{active:k.isLoading,"z-index":1060},null,8,["active"]),Object(r["createElementVNode"])("section",c,[Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",l,[Object(r["createElementVNode"])("div",s,[n,Object(r["createVNode"])(M,{onSubmit:w.createOrder,ref:"form",class:"bg-light p-4"},{default:Object(r["withCtx"])((function(e){var a=e.errors;return[Object(r["createElementVNode"])("div",d,[Object(r["createVNode"])(x,{modelValue:k.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return k.form.user.name=e}),class:Object(r["normalizeClass"])([{"is-invalid":a["name"]},"form-control"]),rules:"required",name:"name",type:"text",id:"name",placeholder:"name:"},null,8,["modelValue","class"]),i,Object(r["createVNode"])(y,{name:"name",class:"invalid-feedback"})]),Object(r["createElementVNode"])("div",m,[Object(r["createVNode"])(x,{modelValue:k.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return k.form.user.email=e}),rules:"email|required",class:Object(r["normalizeClass"])([{"is-invalid":a["email"]},"form-control"]),name:"email",type:"email",id:"email",placeholder:"name@example.com"},null,8,["modelValue","class"]),u,Object(r["createVNode"])(y,{name:"email",class:"invalid-feedback"})]),Object(r["createElementVNode"])("div",b,[Object(r["createVNode"])(x,{modelValue:k.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return k.form.user.tel=e}),class:Object(r["normalizeClass"])([{"is-invalid":a["tel"]},"form-control"]),rules:"required|min:8|max:10",name:"tel",type:"tel",id:"tel",placeholder:"0912345678"},null,8,["modelValue","class"]),f,Object(r["createVNode"])(y,{name:"tel",class:"invalid-feedback"})]),Object(r["createElementVNode"])("div",p,[Object(r["createVNode"])(x,{modelValue:k.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return k.form.user.address=e}),rules:"required",class:Object(r["normalizeClass"])([{"is-invalid":a["address"]},"form-control"]),name:"address",type:"text",id:"address",placeholder:"address"},null,8,["modelValue","class"]),Object(r["createVNode"])(y,{name:"address",class:"invalid-feedback"}),h]),Object(r["createElementVNode"])("div",v,[V,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return k.form.message=e}),type:"text",class:"form-control",id:"formGroupMesage"},null,512),[[r["vModelText"],k.form.message]])]),Object(r["createElementVNode"])("div",O,[Object(r["createVNode"])(x,{modelValue:k.checked,"onUpdate:modelValue":t[5]||(t[5]=function(e){return k.checked=e}),class:Object(r["normalizeClass"])([{"is-invalid":a["agreement"]},"form-check-input"]),value:"true",rules:"required",name:"agreement",type:"checkbox",id:"groupCheck"},null,8,["modelValue","class"]),j,Object(r["createVNode"])(y,{name:"agreement",class:"invalid-feedback"})]),g]})),_:1},8,["onSubmit"])])]),N])])],64)}a("99af");var k={inject:["emitter","putMessageState"],name:"UserForm",data:function(){return{carts:[],checked:!1,form:{user:{name:"",email:"",tel:"",address:""},message:"請留下想說的話"},isLoading:!1}},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/cart");this.$http.get(t).then((function(t){var a;t.data.success?(e.carts=t.data.data.carts,null!==(a=e.carts)&&void 0!==a&&a.length||(e.emitter.emit("push-message",{content:"購物車無商品，請購物，若訂單已送出請詢問客服",state:!1}),e.$router.push("/products"))):e.putMessageState(t,"取得購物車列表")})).catch((function(){e.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},createOrder:function(){var e=this,t={data:this.form};this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/order");this.$http.post(a,t).then((function(t){t.data.success?(e.emitter.emit("updateCart"),e.$refs.form.resetForm(),e.putMessageState(t,"建立訂單"),e.isLoading=!1,e.$router.push("/carts/order/".concat(t.data.orderId))):(e.putMessageState(t,"建立訂單"),e.isLoading=!1)})).catch((function(){e.isLoading=!1,e.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))}},mounted:function(){this.getCarts()}},w=a("d959"),C=a.n(w);const x=C()(k,[["render",E]]);t["default"]=x},"99af":function(e,t,a){"use strict";var r=a("23e7"),c=a("da84"),o=a("d039"),l=a("e8b5"),s=a("861d"),n=a("7b0b"),d=a("07fa"),i=a("8418"),m=a("65f0"),u=a("1dde"),b=a("b622"),f=a("2d00"),p=b("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",V=c.TypeError,O=f>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),j=u("concat"),g=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:l(e)},N=!O||!j;r({target:"Array",proto:!0,forced:N},{concat:function(e){var t,a,r,c,o,l=n(this),s=m(l,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?l:arguments[t],g(o)){if(c=d(o),u+c>h)throw V(v);for(a=0;a<c;a++,u++)a in o&&i(s,u,o[a])}else{if(u>=h)throw V(v);i(s,u++,o)}return s.length=u,s}})}}]);
//# sourceMappingURL=chunk-6ab2b1c9.5dd03f4e.js.map