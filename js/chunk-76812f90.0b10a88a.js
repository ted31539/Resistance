(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76812f90"],{"1c59":function(e,t,r){"use strict";var c=r("6d61"),n=r("6566");c("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},"4fad":function(e,t,r){var c=r("d039"),n=r("861d"),o=r("c6b6"),a=r("d86b"),i=Object.isExtensible,d=c((function(){i(1)}));e.exports=d||a?function(e){return!!n(e)&&((!a||"ArrayBuffer"!=o(e))&&(!i||i(e)))}:i},6062:function(e,t,r){r("1c59")},6566:function(e,t,r){"use strict";var c=r("9bf2").f,n=r("7c73"),o=r("e2cc"),a=r("0366"),i=r("19aa"),d=r("2266"),s=r("7dd0"),l=r("2626"),b=r("83ab"),u=r("f183").fastKey,p=r("69f3"),m=p.set,f=p.getterFor;e.exports={getConstructor:function(e,t,r,s){var l=e((function(e,c){i(e,p),m(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),b||(e.size=0),void 0!=c&&d(c,e[s],{that:e,AS_ENTRIES:r})})),p=l.prototype,h=f(t),j=function(e,t,r){var c,n,o=h(e),a=O(e,t);return a?a.value=r:(o.last=a={index:n=u(t,!0),key:t,value:r,previous:c=o.last,next:void 0,removed:!1},o.first||(o.first=a),c&&(c.next=a),b?o.size++:e.size++,"F"!==n&&(o.index[n]=a)),e},O=function(e,t){var r,c=h(e),n=u(t);if("F"!==n)return c.index[n];for(r=c.first;r;r=r.next)if(r.key==t)return r};return o(p,{clear:function(){var e=this,t=h(e),r=t.index,c=t.first;while(c)c.removed=!0,c.previous&&(c.previous=c.previous.next=void 0),delete r[c.index],c=c.next;t.first=t.last=void 0,b?t.size=0:e.size=0},delete:function(e){var t=this,r=h(t),c=O(t,e);if(c){var n=c.next,o=c.previous;delete r.index[c.index],c.removed=!0,o&&(o.next=n),n&&(n.previous=o),r.first==c&&(r.first=n),r.last==c&&(r.last=o),b?r.size--:t.size--}return!!c},forEach:function(e){var t,r=h(this),c=a(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:r.first){c(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!O(this,e)}}),o(p,r?{get:function(e){var t=O(this,e);return t&&t.value},set:function(e,t){return j(this,0===e?0:e,t)}}:{add:function(e){return j(this,e=0===e?0:e,e)}}),b&&c(p,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,r){var c=t+" Iterator",n=f(t),o=f(c);s(e,t,(function(e,t){m(this,{type:c,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},"6d61":function(e,t,r){"use strict";var c=r("23e7"),n=r("da84"),o=r("e330"),a=r("94ca"),i=r("6eeb"),d=r("f183"),s=r("2266"),l=r("19aa"),b=r("1626"),u=r("861d"),p=r("d039"),m=r("1c7e"),f=r("d44e"),h=r("7156");e.exports=function(e,t,r){var j=-1!==e.indexOf("Map"),O=-1!==e.indexOf("Weak"),y=j?"set":"add",g=n[e],v=g&&g.prototype,E=g,N={},V=function(e){var t=o(v[e]);i(v,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(O&&!u(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return O&&!u(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(O&&!u(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})},x=a(e,!b(g)||!(O||v.forEach&&!p((function(){(new g).entries().next()}))));if(x)E=r.getConstructor(t,e,j,y),d.enable();else if(a(e,!0)){var w=new E,k=w[y](O?{}:-0,1)!=w,C=p((function(){w.has(1)})),S=m((function(e){new g(e)})),z=!O&&p((function(){var e=new g,t=5;while(t--)e[y](t,t);return!e.has(-0)}));S||(E=t((function(e,t){l(e,v);var r=h(new g,e,E);return void 0!=t&&s(t,r[y],{that:r,AS_ENTRIES:j}),r})),E.prototype=v,v.constructor=E),(C||z)&&(V("delete"),V("has"),j&&V("get")),(z||k)&&V(y),O&&v.clear&&delete v.clear}return N[e]=E,c({global:!0,forced:E!=g},N),f(E,e),O||r.setStrong(E,e,j),E}},"77de":function(e,t,r){"use strict";r.r(t);r("a4d3"),r("e01a"),r("caad"),r("2532");var c=r("7a23"),n={class:"container pt-11"},o={class:"row pt-10"},a={class:"breadcrumb mb-10"},i={class:"breadcrumb-item"},d=Object(c["createTextVNode"])("首頁"),s={class:"breadcrumb-item"},l=Object(c["createTextVNode"])("產品"),b={class:"breadcrumb-item"},u={class:"breadcrumb-item active"},p={class:"col-12 col-lg-7 mb-5"},m={class:"col-12 col-lg-5"},f={class:"mb-1"},h={class:"mb-2"},j={class:"text-decoration-line-through text-secondary ms-6"},O=Object(c["createElementVNode"])("p",{class:"mb-8 fw-bold fs-5"},"全站滿3000免運",-1),y={class:"text-black-50 mb-8"},g=Object(c["createElementVNode"])("label",{for:"size"},"尺寸",-1),v=Object(c["createElementVNode"])("option",{value:"S"},"S",-1),E=Object(c["createElementVNode"])("option",{value:"M"},"M",-1),N=Object(c["createElementVNode"])("option",{value:"L"},"L",-1),V=Object(c["createElementVNode"])("option",{value:"XL"},"XL",-1),x=[v,E,N,V],w=Object(c["createElementVNode"])("label",{for:"qty"},"數量",-1),k={class:"input-group mb-3"},C={class:"d-flex mb-3"},S={class:"bi bi-basket position-relative",ref:"outerShopIcon"},z=["src"],B=Object(c["createTextVNode"])(" 加入購物車"),I=Object(c["createElementVNode"])("i",{class:"bi bi-bag-fill me-1"},null,-1),L=Object(c["createTextVNode"])("即刻購買"),A=[I,L],T=Object(c["createElementVNode"])("i",{class:"bi bi-heart-fill me-1"},null,-1),F={key:0,class:"d-inline text-shadow"},P={key:1,class:"d-inline text-shadow text-secondary"},q=Object(c["createElementVNode"])("hr",{class:"mb-0"},null,-1),M={class:"container"},D=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-bottom-line w-100 py-5"},"商品描述",-1),$=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-bottom-line w-100 py-5"},"商品尺寸",-1),R=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-bottom-line w-100 py-5"},"購買須知",-1),_=[D,$,R],Q=["innerHTML"],U={key:1},X={key:0},H=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",{class:"bg-secondary"},[Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"},"尺寸 "),Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"}," 肩寬 "),Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"}," 胸寬 "),Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"}," 衣長 ")])],-1),J=Object(c["createElementVNode"])("tbody",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," S "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 45 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 50 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 72 ")]),Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," M "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 48 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 55 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 74 ")]),Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," L "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 52 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 58 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 76 ")]),Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," XL "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 55 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 62 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 78 ")])],-1),K=Object(c["createElementVNode"])("tfoot",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{colspan:"4",class:"text-end py-4"},"單位: 公分( cm )")])],-1),W=[H,J,K],G={key:1},Y=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",{class:"bg-secondary"},[Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"},"尺寸 "),Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"}," 腰寬 "),Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"}," 臀寬 "),Object(c["createElementVNode"])("th",{width:"60",class:"border-0 border-3 text-center py-4"}," 褲長 "),Object(c["createElementVNode"])("th",{width:"65",class:"border-0 border-3 text-center py-4"}," 大腿寬 "),Object(c["createElementVNode"])("th",{width:"65",class:"border-0 border-3 text-center py-4"}," 褲口寬 ")])],-1),Z=Object(c["createElementVNode"])("tbody",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," S "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 35.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 47.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 94 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 30.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 11 ")]),Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," M "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 38 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 49.8 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 95 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 32.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 11 ")]),Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," L "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 40.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 52.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 96.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 33.5 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 11.5 ")]),Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{class:"border border-3 text-center bg-light py-4"}," XL "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 43 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 54.9 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 98 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 35 "),Object(c["createElementVNode"])("td",{class:"border border-3 text-center py-4"}," 12 ")])],-1),ee=Object(c["createElementVNode"])("tfoot",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{colspan:"6",class:"text-end py-4"},"單位: 公分( cm )")])],-1),te=[Y,Z,ee],re={key:2},ce=Object(c["createElementVNode"])("strong",{class:"text-danger"},"無換貨服務，一律退貨，重新下單！",-1),ne=Object(c["createElementVNode"])("p",null,"七天內享有鑑賞期。",-1),oe=Object(c["createElementVNode"])("p",null,"商品不得下水、拆毀吊牌、毀損。",-1),ae=Object(c["createElementVNode"])("p",null,"退貨後，請通知課服人員，告知訂單編號。",-1),ie=Object(c["createElementVNode"])("p",null,"無須負擔運費。",-1),de=[ce,ne,oe,ae,ie],se={class:"container py-11"},le=Object(c["createElementVNode"])("h3",{class:"mb-11"},"你可能也喜歡...",-1),be={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-0"};function ue(e,t,r,v,E,N){var V=Object(c["resolveComponent"])("Loading"),I=Object(c["resolveComponent"])("router-link"),L=Object(c["resolveComponent"])("Swiper"),D=Object(c["resolveComponent"])("Card");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("section",n,[Object(c["createVNode"])(V,{active:E.isLoading,"z-index":1060},null,8,["active"]),Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("ol",a,[Object(c["createElementVNode"])("li",i,[Object(c["createVNode"])(I,{to:"/",class:"text-primary"},{default:Object(c["withCtx"])((function(){return[d]})),_:1})]),Object(c["createElementVNode"])("li",s,[Object(c["createVNode"])(I,{to:{name:"Products",query:{category:"所有商品"}},class:"text-primary"},{default:Object(c["withCtx"])((function(){return[l]})),_:1})]),Object(c["createElementVNode"])("li",b,[Object(c["createVNode"])(I,{to:{name:"Products",query:{category:E.product.category}},class:"text-primary"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(E.product.category),1)]})),_:1},8,["to"])]),Object(c["createElementVNode"])("li",u,Object(c["toDisplayString"])(E.product.title),1)]),Object(c["createElementVNode"])("div",p,[Object(c["createVNode"])(L,{productImages:E.product.imagesUrl,viewHeight:"page"},null,8,["productImages"])]),Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("h3",f,Object(c["toDisplayString"])(E.product.title),1),Object(c["createElementVNode"])("p",h,[Object(c["createTextVNode"])("特價：NT$"+Object(c["toDisplayString"])(N.currency(E.product.price)),1),Object(c["createElementVNode"])("span",j,"售價：NT$"+Object(c["toDisplayString"])(N.currency(E.product.origin_price)),1)]),O,Object(c["createElementVNode"])("p",y,Object(c["toDisplayString"])(E.product.description),1),g,Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{class:"form-select text-center mb-1","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=function(e){return E.size=e}),id:"size"},x,512),[[c["vModelSelect"],E.size]]),w,Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(){return N.minusQty&&N.minusQty.apply(N,arguments)}),class:"btn btn-outline-secondary",type:"button"},"-"),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return E.qty=e}),disabled:"disabled",type:"text",class:"form-control text-center bg-white",id:"qty"},null,512),[[c["vModelText"],E.qty]]),Object(c["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(){return N.addQty&&N.addQty.apply(N,arguments)}),class:"btn btn-outline-secondary",type:"button"},"+")]),Object(c["createElementVNode"])("div",C,[Object(c["createElementVNode"])("button",{onClick:t[4]||(t[4]=function(e){return N.addCart(E.product.id,E.qty,!1)}),type:"button",class:"btn btn-secondary flex-fill me-4"},[Object(c["createElementVNode"])("i",S,[Object(c["createElementVNode"])("img",{src:E.product.imageUrl,class:"add-animation rounded-circle position-fixed text-danger opacity-0 z-index-2999",ref:"innerShopIcon"},null,8,z)],512),B]),Object(c["createElementVNode"])("button",{onClick:t[5]||(t[5]=function(e){return N.addCart(E.product.id,E.qty,!0)}),type:"button",class:"btn btn-primary flex-fill"},A)]),Object(c["createElementVNode"])("button",{onClick:t[6]||(t[6]=function(e){return N.swithFavorite(E.product)}),class:Object(c["normalizeClass"])([{active:E.favoriteIdAry.includes(E.product.id)},"btn btn-love w-100"]),type:"button"},[T,E.favoriteIdAry.includes(E.product.id)?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",P,"已加入我的最愛")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",F,"加入我的最愛"))],2)])]),q]),Object(c["createElementVNode"])("section",M,[Object(c["createElementVNode"])("div",{class:"textSwitch d-flex justify-content-between mb-10",onClick:t[7]||(t[7]=Object(c["withModifiers"])((function(){return N.switchContent&&N.switchContent.apply(N,arguments)}),["stop"]))},_),Object(c["createElementVNode"])("div",null,["content"===E.productContent?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,innerHTML:E.content},null,8,Q)):"size"===E.productContent?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",U,["T恤"===E.product.category||"襯衫"===E.product.category||"外套"===E.product.category?(Object(c["openBlock"])(),Object(c["createElementBlock"])("table",X,W)):"短褲"===E.product.category||"長褲"===E.product.category?(Object(c["openBlock"])(),Object(c["createElementBlock"])("table",G,te)):Object(c["createCommentVNode"])("",!0)])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",re,de))])]),Object(c["createElementVNode"])("section",se,[le,Object(c["createElementVNode"])("div",be,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(E.similarProducts,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:e.id,class:"col d-flex justify-content-center"},[Object(c["createVNode"])(D,{product:e},null,8,["product"])])})),128))])])],64)}var pe=r("5530"),me=r("3835"),fe=(r("99af"),r("d3b7"),r("159b"),r("4de4"),r("6062"),r("3ca3"),r("ddb0"),r("cffa")),he=r("ae8d"),je=r("ef4f"),Oe={inject:["currency","emitter","toggleFavorite","getFavoriteIdAry","putMessageState"],name:"Product",props:["id"],data:function(){return{product:{},products:{},carts:[],content:"",size:"S",qty:1,productContent:"content",similarProducts:[],favoriteIdAry:this.getFavoriteIdAry(),isLoading:!1,sizeObj:{}}},components:{Swiper:je["a"],Card:he["a"]},methods:{getProduct:function(e){var t=this;this.isLoading=!0;var r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/product/").concat(e);this.$http.get(r).then((function(e){t.product=e.data.product,t.getProducts(),t.content=e.data.product.content,t.isLoading=!1})).catch((function(){t.isLoading=!1,t.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},getProducts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/products/all");this.$http.get(t).then((function(t){e.products=t.data.products,e.getSimilarProducts()})).catch((function(){e.isLoading=!1,e.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},getCarts:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/cart");this.$http.get(t).then((function(t){t.data.success?e.carts=t.data.data.carts:e.putMessageState(t,"取得購物車列表"),e.isLoading=!1})).catch((function(){e.isLoading=!1,e.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},addCart:function(e,t,r){var c=this;function n(e){var t=[];return fe["a"].utils.toArray(e).forEach((function(e){return t.push(e,e.style.cssText)})),t}function o(e){for(var t=0;t<e.length;t+=2)e[t].style.cssText=e[t+1]}if(this.isLoading=!0,!r){var a=this.$refs.innerShopIcon,i=document.querySelector("#cartBtn"),d=this.$refs.outerShopIcon.getBoundingClientRect().left-this.$refs.innerShopIcon.getBoundingClientRect().left,s=this.$refs.outerShopIcon.getBoundingClientRect().top-this.$refs.innerShopIcon.getBoundingClientRect().top,l=i.getBoundingClientRect().left-this.$refs.innerShopIcon.getBoundingClientRect().left,b=i.getBoundingClientRect().top-this.$refs.innerShopIcon.getBoundingClientRect().top;a.classList.remove("opacity-0");var u=n(a),p=fe["a"].timeline({paused:!0,defaults:{ease:"none",yoyo:!0,repeat:0,onComplete:function(){return o(u)}}});p.to(a,{duration:0,x:d,y:s,scale:1,opacity:1}).to(a,{duration:.6,x:l,y:b,scale:2.5,opacity:1}).to(a,{duration:0,x:d,y:s,scale:1,opacity:0}).to(i,{duration:.1,scale:1.5}).to(i,{duration:.1,scale:1}).to(i,{duration:.1,scale:1.5}).to(i,{duration:.1,scale:1}),p.play(0),setTimeout((function(){a.classList.add("opacity-0")}),500)}var m="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/cart");this.sizeObj[this.size]?this.sizeObj[this.size]+=this.qty:this.sizeObj[this.size]=this.qty;var f={product_id:e,qty:t,sizeObj:this.sizeObj};this.$http.post(m,{data:f}).then((function(e){var t="加入購物車";e.data.success?(c.emitter.emit("updateCart"),c.isLoading=!1,c.putMessageState(e,t)):(c.isLoading=!1,c.putMessageState(e,t)),r&&setTimeout((function(){c.$router.push("/carts/cart")}),1e3)})).catch((function(){c.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1}),c.isLoading=!1}))},addQty:function(){this.qty+=1},minusQty:function(){this.qty>1&&(this.qty-=1)},switchContent:function(e){var t=e.target.innerText;switch(t){case"商品描述":this.productContent="content";break;case"商品尺寸":this.productContent="size";break;default:this.productContent="notice"}},swithFavorite:function(e){this.toggleFavorite(e),this.favoriteIdAry=this.getFavoriteIdAry()},getSimilarProducts:function(){var e=this;this.similarProducts=[];var t=this.product,r=t.category,c=t.id,n=this.products.filter((function(e){return e.category===r&&e.id!==c}));function o(e){return Math.floor(Math.random()*e)}for(var a=new Set([]),i=0;a.size<(n.length<4?n.length:4);i+1){var d=o(n.length);a.add(d)}a.forEach((function(t){e.similarProducts.push(n[t])}))}},watch:{carts:function(){var e=this,t=this.carts.filter((function(t){return t.product_id===e.product.id})),r=Object(me["a"])(t,1),c=r[0];this.sizeObj=Object(pe["a"])({},null===c||void 0===c?void 0:c.sizeObj)||{}},id:function(){this.getProduct(this.id)}},mounted:function(){var e=this;this.getProduct(this.id),this.getCarts(),this.emitter.on("updateCart",this.getCarts),this.emitter.on("getFavoriteIdAry",(function(){e.favoriteIdAry=e.getFavoriteIdAry()}))},beforeUnmount:function(){var e=this;this.emitter.off("getFavoriteIdAry",(function(){e.favoriteIdAry=e.getFavoriteIdAry()})),this.emitter.off("updateCart",this.getCarts)}},ye=r("d959"),ge=r.n(ye);const ve=ge()(Oe,[["render",ue]]);t["default"]=ve},bb2f:function(e,t,r){var c=r("d039");e.exports=!c((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d86b:function(e,t,r){var c=r("d039");e.exports=c((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},f183:function(e,t,r){var c=r("23e7"),n=r("e330"),o=r("d012"),a=r("861d"),i=r("1a2d"),d=r("9bf2").f,s=r("241c"),l=r("057f"),b=r("4fad"),u=r("90e3"),p=r("bb2f"),m=!1,f=u("meta"),h=0,j=function(e){d(e,f,{value:{objectID:"O"+h++,weakData:{}}})},O=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,f)){if(!b(e))return"F";if(!t)return"E";j(e)}return e[f].objectID},y=function(e,t){if(!i(e,f)){if(!b(e))return!0;if(!t)return!1;j(e)}return e[f].weakData},g=function(e){return p&&m&&b(e)&&!i(e,f)&&j(e),e},v=function(){E.enable=function(){},m=!0;var e=s.f,t=n([].splice),r={};r[f]=1,e(r).length&&(s.f=function(r){for(var c=e(r),n=0,o=c.length;n<o;n++)if(c[n]===f){t(c,n,1);break}return c},c({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},E=e.exports={enable:v,fastKey:O,getWeakData:y,onFreeze:g};o[f]=!0}}]);
//# sourceMappingURL=chunk-76812f90.0b10a88a.js.map