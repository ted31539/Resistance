(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f383d54"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var o=r("e330"),n=r("1d80"),c=r("577e"),a=r("5899"),i=o("".replace),s="["+a+"]",l=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),u=function(e){return function(t){var r=c(n(t));return 1&e&&(r=i(r,l,"")),2&e&&(r=i(r,d,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},"810f":function(e,t,r){
/*!
  * Bootstrap collapse.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,o){e.exports=o(r("6ee1"),r("6a95"),r("109e"),r("848f"),r("302d"))})(0,(function(e,t,r,o,n){"use strict";const c=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},a=c(e),i=c(t),s=c(r),l=c(o),d=c(n),u=e=>null===e||void 0===e?""+e:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),m=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let r=e.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r="#"+r.split("#")[1]),t=r&&"#"!==r?r.trim():null}return t},b=e=>{const t=m(e);return t&&document.querySelector(t)?t:null},h=e=>{const t=m(e);return t?document.querySelector(t):null},p=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),f=e=>p(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(e):null,g=(e,t,r)=>{Object.keys(r).forEach(o=>{const n=r[o],c=t[o],a=c&&p(c)?"element":u(c);if(!new RegExp(n).test(a))throw new TypeError(`${e.toUpperCase()}: Option "${o}" provided type "${a}" but expected type "${n}".`)})},O=e=>{e.offsetHeight},y=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},j=[],v=e=>{"loading"===document.readyState?(j.length||document.addEventListener("DOMContentLoaded",()=>{j.forEach(e=>e())}),j.push(e)):e()},E=e=>{v(()=>{const t=y();if(t){const r=e.NAME,o=t.fn[r];t.fn[r]=e.jQueryInterface,t.fn[r].Constructor=e,t.fn[r].noConflict=()=>(t.fn[r]=o,e.jQueryInterface)}})},N="collapse",w="bs.collapse",V="."+w,k=".data-api",x={toggle:!0,parent:null},_={toggle:"boolean",parent:"(null|element)"},C="show"+V,L="shown"+V,A="hide"+V,T="hidden"+V,S=`click${V}${k}`,B="show",I="collapse",D="collapsing",M="collapsed",U=`:scope .${I} .${I}`,F="collapse-horizontal",$="width",P="height",z=".collapse.show, .collapse.collapsing",G='[data-bs-toggle="collapse"]';class W extends d.default{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const r=l.default.find(G);for(let o=0,n=r.length;o<n;o++){const e=r[o],t=b(e),n=l.default.find(t).filter(e=>e===this._element);null!==t&&n.length&&(this._selector=t,this._triggerArray.push(e))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return x}static get NAME(){return N}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const e=l.default.find(U,this._config.parent);t=l.default.find(z,this._config.parent).filter(t=>!e.includes(t))}const r=l.default.findOne(this._selector);if(t.length){const o=t.find(e=>r!==e);if(e=o?W.getInstance(o):null,e&&e._isTransitioning)return}const o=i.default.trigger(this._element,C);if(o.defaultPrevented)return;t.forEach(t=>{r!==t&&W.getOrCreateInstance(t,{toggle:!1}).hide(),e||a.default.set(t,w,null)});const n=this._getDimension();this._element.classList.remove(I),this._element.classList.add(D),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const c=()=>{this._isTransitioning=!1,this._element.classList.remove(D),this._element.classList.add(I,B),this._element.style[n]="",i.default.trigger(this._element,L)},s=n[0].toUpperCase()+n.slice(1),d="scroll"+s;this._queueCallback(c,this._element,!0),this._element.style[n]=this._element[d]+"px"}hide(){if(this._isTransitioning||!this._isShown())return;const e=i.default.trigger(this._element,A);if(e.defaultPrevented)return;const t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",O(this._element),this._element.classList.add(D),this._element.classList.remove(I,B);const r=this._triggerArray.length;for(let n=0;n<r;n++){const e=this._triggerArray[n],t=h(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(D),this._element.classList.add(I),i.default.trigger(this._element,T)};this._element.style[t]="",this._queueCallback(o,this._element,!0)}_isShown(e=this._element){return e.classList.contains(B)}_getConfig(e){return e={...x,...s.default.getDataAttributes(this._element),...e},e.toggle=Boolean(e.toggle),e.parent=f(e.parent),g(N,e,_),e}_getDimension(){return this._element.classList.contains(F)?$:P}_initializeChildren(){if(!this._config.parent)return;const e=l.default.find(U,this._config.parent);l.default.find(G,this._config.parent).filter(t=>!e.includes(t)).forEach(e=>{const t=h(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))})}_addAriaAndCollapsedClass(e,t){e.length&&e.forEach(e=>{t?e.classList.remove(M):e.classList.add(M),e.setAttribute("aria-expanded",t)})}static jQueryInterface(e){return this.each((function(){const t={};"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1);const r=W.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof r[e])throw new TypeError(`No method named "${e}"`);r[e]()}}))}}return i.default.on(document,S,G,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=b(this),r=l.default.find(t);r.forEach(e=>{W.getOrCreateInstance(e,{toggle:!1}).toggle()})})),E(W),W}))},"96cf":function(e,t,r){var o=function(e){"use strict";var t,r=Object.prototype,o=r.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof f?t:f,c=Object.create(n.prototype),a=new C(o||[]);return c._invoke=V(e,r,a),c}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var u="suspendedStart",m="suspendedYield",b="executing",h="completed",p={};function f(){}function g(){}function O(){}var y={};s(y,c,(function(){return this}));var j=Object.getPrototypeOf,v=j&&j(j(L([])));v&&v!==r&&o.call(v,c)&&(y=v);var E=O.prototype=f.prototype=Object.create(y);function N(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(n,c,a,i){var s=d(e[n],e,c);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,i)}))}i(s.arg)}var n;function c(e,o){function c(){return new t((function(t,n){r(e,o,t,n)}))}return n=n?n.then(c,c):c()}this._invoke=c}function V(e,t,r){var o=u;return function(n,c){if(o===b)throw new Error("Generator is already running");if(o===h){if("throw"===n)throw c;return A()}r.method=n,r.arg=c;while(1){var a=r.delegate;if(a){var i=k(a,r);if(i){if(i===p)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===u)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=b;var s=d(e,t,r);if("normal"===s.type){if(o=r.done?h:m,s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=h,r.method="throw",r.arg=s.arg)}}}function k(e,r){var o=e.iterator[r.method];if(o===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=d(o,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,p;var c=n.arg;return c?c.done?(r[e.resultName]=c.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):c:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var r=e[c];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){while(++n<e.length)if(o.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=O,s(E,"constructor",O),s(O,"constructor",g),g.displayName=s(O,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,s(e,i,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},N(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,o,n,c){void 0===c&&(c=Promise);var a=new w(l(t,r,o,n),c);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},N(E),s(E,i,"Generator"),s(E,c,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(o,n){return i.type="throw",i.arg=e,r.next=o,n&&(r.method="next",r.arg=t),!!n}for(var c=this.tryEntries.length-1;c>=0;--c){var a=this.tryEntries[c],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var a=c?c.completion:{};return a.type=e,a.arg=t,c?(this.method="next",this.next=c.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;_(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,o){return this.delegate={iterator:L(e),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=o}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},a9e3:function(e,t,r){"use strict";var o=r("83ab"),n=r("da84"),c=r("e330"),a=r("94ca"),i=r("6eeb"),s=r("1a2d"),l=r("7156"),d=r("3a9b"),u=r("d9b5"),m=r("c04e"),b=r("d039"),h=r("241c").f,p=r("06cf").f,f=r("9bf2").f,g=r("408a"),O=r("58a8").trim,y="Number",j=n[y],v=j.prototype,E=n.TypeError,N=c("".slice),w=c("".charCodeAt),V=function(e){var t=m(e,"number");return"bigint"==typeof t?t:k(t)},k=function(e){var t,r,o,n,c,a,i,s,l=m(e,"number");if(u(l))throw E("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=O(l),t=w(l,0),43===t||45===t){if(r=w(l,2),88===r||120===r)return NaN}else if(48===t){switch(w(l,1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+l}for(c=N(l,2),a=c.length,i=0;i<a;i++)if(s=w(c,i),s<48||s>n)return NaN;return parseInt(c,o)}return+l};if(a(y,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var x,_=function(e){var t=arguments.length<1?0:j(V(e)),r=this;return d(v,r)&&b((function(){g(r)}))?l(Object(t),r,_):t},C=o?h(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;C.length>L;L++)s(j,x=C[L])&&!s(_,x)&&f(_,x,p(j,x));_.prototype=v,v.constructor=_,i(n,y,_)}},d9d8:function(e,t,r){"use strict";r.r(t);r("b0c0");var o=r("7a23"),n=Object(o["createElementVNode"])("section",{class:"member-banner vh-30 position-relative"},null,-1),c={class:"container py-10"},a={class:"row g-0 align-items-center mb-10"},i={class:"col-6"},s={class:"breadcrumb mb-0"},l={class:"breadcrumb-item"},d=Object(o["createTextVNode"])("首頁"),u=Object(o["createElementVNode"])("li",{class:"breadcrumb-item active"},"會員專區",-1),m={class:"col-6 d-flex flex-column"},b={class:"row"},h={class:"col-lg-2 text-center mb-8"},p=Object(o["createElementVNode"])("h2",{class:"fs-2 mb-11"},[Object(o["createElementVNode"])("span",{class:"fs-5 text-black-50"},"Navbar"),Object(o["createElementVNode"])("br"),Object(o["createTextVNode"])("導覽列")],-1),f={class:"col-lg-10 text-center"},g={class:"fs-2 mb-11"},O={class:"fs-5 text-black-50"},y={key:0},j={key:1},v={key:2},E=Object(o["createElementVNode"])("br",null,null,-1),N={key:0,class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-6"},w={class:"w-100 d-flex flex-column"},V=Object(o["createElementVNode"])("h3",{class:"title"},"顧客資訊",-1),k={class:"row row-cols-2 shadow-sm bg-light g-0 p-4"},x=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4 text-start"},"電子郵件：",-1),_={class:"col-7 text-break border-bottom mb-4"},C=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4 text-start"},"姓名：",-1),L={class:"col-7 text-break border-bottom mb-4"},A=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4 text-start"},"信箱認證：",-1),T={class:"col-7 text-break border-bottom mb-4"},S={key:0,class:"text-success"},B={key:1,class:"text-danger"},I=Object(o["createTextVNode"])("未認證 "),D={class:"align-self-end py-4"},M={key:1,class:"row lg-3 g-6"},U={class:"bg-light p-4"},F={class:"row row-cols-2"},$=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"下單日期：",-1),P={class:"col-7 text-break border-bottom mb-4"},z=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"訂單編號：",-1),G={class:"col-7 text-break border-bottom mb-4"},W=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"顧客姓名：",-1),R={class:"col-7 text-break border-bottom mb-4"},q=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"聯絡電話：",-1),Q={class:"col-7 text-break border-bottom mb-4"},Y=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"電子郵件：",-1),J={class:"col-7 text-break border-bottom mb-4"},X=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"地址：",-1),H={class:"col-7 text-break border-bottom mb-4"},K=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"付款狀態：",-1),Z={class:"col-7 text-break border-bottom mb-4"},ee={key:0,class:"text-success"},te={key:1,class:"text-danger"},re=Object(o["createElementVNode"])("div",{class:"col-4 border-bottom mb-4"},"訂單金額：",-1),oe={class:"col-7 text-break border-bottom mb-4"},ne={type:"button",class:"btn"},ce=["onClick"],ae={class:"col-12 mb-4"},ie=["onClick"],se={key:0,class:"h3 text-secondary"},le={key:2,class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-6"},de={key:0,class:"h3 text-secondary w-100"};function ue(e,t,r,ue,me,be){var he=Object(o["resolveComponent"])("Loading"),pe=Object(o["resolveComponent"])("router-link"),fe=Object(o["resolveComponent"])("MemberSidebar"),ge=Object(o["resolveComponent"])("OrderDropdown"),Oe=Object(o["resolveComponent"])("Card"),ye=Object(o["resolveComponent"])("MemberModal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(he,{active:me.isLoading,"z-index":1060},null,8,["active"]),n,Object(o["createElementVNode"])("section",c,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("ol",s,[Object(o["createElementVNode"])("li",l,[Object(o["createVNode"])(pe,{to:"/",class:"text-primary"},{default:Object(o["withCtx"])((function(){return[d]})),_:1})]),u])]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return be.signOut&&be.signOut.apply(be,arguments)}),type:"button",class:"btn btn-primary align-self-end"},"登出")])]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",h,[p,Object(o["createVNode"])(fe,{onChangeCategory:be.changeCategory},null,8,["onChangeCategory"])]),Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h2",g,[Object(o["createElementVNode"])("span",O,["帳號"===me.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",y,"Acount")):"訂單"===me.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",j,"Orders")):"我的最愛"===me.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",v,"Favorites")):Object(o["createCommentVNode"])("",!0)]),E,Object(o["createTextVNode"])(Object(o["toDisplayString"])(me.category),1)]),"帳號"===me.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createElementVNode"])("div",w,[V,Object(o["createElementVNode"])("div",k,[x,Object(o["createElementVNode"])("div",_,Object(o["toDisplayString"])(this.user.email),1),C,Object(o["createElementVNode"])("div",L,Object(o["toDisplayString"])(this.user.displayName),1),A,Object(o["createElementVNode"])("div",T,[this.user.emailVerified?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",S,"認證")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",B,[I,Object(o["createElementVNode"])("button",{onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return be.sendEmailVerification&&be.sendEmailVerification.apply(be,arguments)}),["stop"])),type:"button",class:"btn btn-primary"},"驗證去")]))])]),Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("button",{onClick:t[2]||(t[2]=function(){return be.openModal&&be.openModal.apply(be,arguments)}),type:"button",class:"btn btn-primary"},"修改帳號資料")])])])):"訂單"===me.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(be.orderFilter,(function(e,t){var r,n,c,a;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id,class:"shadow-sm"},[Object(o["createElementVNode"])("h3",{class:Object(o["normalizeClass"])([{"text-danger":!e.is_paid},"title"])},"訂單資訊",2),Object(o["createElementVNode"])("div",U,[Object(o["createElementVNode"])("div",F,[$,Object(o["createElementVNode"])("div",P,Object(o["toDisplayString"])(be.toNormalTime(e.create_at)),1),z,Object(o["createElementVNode"])("div",G,Object(o["toDisplayString"])(e.id),1),W,Object(o["createElementVNode"])("div",R,Object(o["toDisplayString"])(null===(r=e.user)||void 0===r?void 0:r.name),1),q,Object(o["createElementVNode"])("div",Q,Object(o["toDisplayString"])(null===(n=e.user)||void 0===n?void 0:n.tel),1),Y,Object(o["createElementVNode"])("div",J,Object(o["toDisplayString"])(null===(c=e.user)||void 0===c?void 0:c.email),1),X,Object(o["createElementVNode"])("div",H,Object(o["toDisplayString"])(null===(a=e.user)||void 0===a?void 0:a.address),1),K,Object(o["createElementVNode"])("div",Z,[e.is_paid?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",ee,"已付款")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",te,"未付款"))]),re,Object(o["createElementVNode"])("div",oe,[Object(o["createTextVNode"])("NT$ "+Object(o["toDisplayString"])(be.currency(e.total))+" ",1),Object(o["createElementVNode"])("button",ne,[Object(o["createElementVNode"])("i",{onClick:Object(o["withModifiers"])((function(e){return be.switchDropdown(e,t)}),["stop"]),class:"bi bi-arrow-down-circle-fill"},null,8,ce)])]),Object(o["createElementVNode"])("div",ae,[Object(o["createVNode"])(ge,{index:t,ref_for:!0,ref:"orderDropdown-".concat(t),order:e},null,8,["index","order"])])]),e.is_paid?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,onClick:Object(o["withModifiers"])((function(t){return be.pay(e.id)}),["stop"]),type:"button",class:"btn btn-primary w-100"},"確認付款",8,ie))])])})),128)),be.orderFilter.length?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",se,"無訂單"))])):"我的最愛"===me.category?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",le,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(me.favoriteProductAry,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id,class:"col mb-11"},[Object(o["createVNode"])(Oe,{product:e},null,8,["product"])])})),128)),me.favoriteProductAry.length?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",de,"無產品"))])):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createVNode"])(ye,{ref:"memberModal",user:me.tempUser,onUpdateUser:be.updateUser},null,8,["user","onUpdateUser"])])],64)}var me=r("5530");r("d3b7");function be(e,t,r,o,n,c,a){try{var i=e[c](a),s=i.value}catch(l){return void r(l)}i.done?t(s):Promise.resolve(s).then(o,n)}function he(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var c=e.apply(t,r);function a(e){be(c,o,n,a,i,"next",e)}function i(e){be(c,o,n,a,i,"throw",e)}a(void 0)}))}}r("96cf"),r("99af"),r("3ca3"),r("ddb0"),r("159b"),r("4de4"),r("caad"),r("2532");var pe=r("ea7b"),fe=r("b414"),ge=r("ae8d"),Oe=Object(o["createElementVNode"])("option",{selected:"",value:"帳號"},"帳號",-1),ye=Object(o["createElementVNode"])("option",{value:"訂單"},"訂單",-1),je=Object(o["createElementVNode"])("option",{value:"我的最愛"},"我的最愛",-1),ve=[Oe,ye,je];function Ee(e,t,r,n,c,a){return c.windowWidth>=992?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",{key:0,onClick:t[0]||(t[0]=function(){return a.changeCategory&&a.changeCategory.apply(a,arguments)}),class:"list-group list-unstyled cursor-pointer"},[Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])([{active:"帳號"===c.tempCategory},"list-group-item list-group-item-action"])},"帳號",2),Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])([{active:"訂單"===c.tempCategory},"list-group-item list-group-item-action"])},"訂單",2),Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])([{active:"我的最愛"===c.tempCategory},"list-group-item list-group-item-action"])},"我的最愛",2)])):Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("select",{key:1,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.tempCategory=e}),onChange:t[2]||(t[2]=function(){return a.changeCategory&&a.changeCategory.apply(a,arguments)}),class:"form-select","aria-label":"Default select example"},ve,544)),[[o["vModelSelect"],c.tempCategory]])}var Ne={inject:["getWindowWidth"],data:function(){return{tempCategory:"帳號",windowWidth:this.getWindowWidth()}},methods:{changeCategory:function(e){"SELECT"===e.target.tagName?this.tempCategory=e.target.value:this.tempCategory=e.target.innerText,this.$emit("change-category",this.tempCategory)}},mounted:function(){var e=this;this.$emit("change-category",this.tempCategory),this.getWindowWidth(),window.addEventListener("resize",(function(){e.windowWidth=e.getWindowWidth()}))},unmounted:function(){var e=this;window.addEventListener("resize",(function(){e.windowWidth=e.getWindowWidth()}))}},we=r("d959"),Ve=r.n(we);const ke=Ve()(Ne,[["render",Ee]]);var xe=ke,_e={ref:"modal",class:"modal fade z-index-999",id:"productModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Ce={class:"modal-dialog modal-xl"},Le={class:"modal-content"},Ae=Object(o["createElementVNode"])("div",{class:"modal-header bg-secondary"},[Object(o["createElementVNode"])("h5",{class:"modal-title text-white",id:"productModalLabel"}," 修改帳號資料 "),Object(o["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Te={class:"modal-body"},Se={class:"container"},Be={class:"row"},Ie={class:"col-12"},De={class:"row mb-3"},Me={class:"col-12"},Ue=Object(o["createElementVNode"])("label",{for:"title",class:"form-label"},"電子郵件",-1),Fe={class:"col-12"},$e={class:"row mb-3"},Pe={class:"col-12"},ze=Object(o["createElementVNode"])("label",{for:"title",class:"form-label"},"姓名",-1),Ge={class:"modal-footer"},We=Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"},"取消",-1);function Re(e,t,r,n,c,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_e,[Object(o["createElementVNode"])("div",Ce,[Object(o["createElementVNode"])("div",Le,[Ae,Object(o["createElementVNode"])("div",Te,[Object(o["createElementVNode"])("div",Se,[Object(o["createElementVNode"])("div",Be,[Object(o["createElementVNode"])("div",Ie,[Object(o["createElementVNode"])("div",De,[Object(o["createElementVNode"])("div",Me,[Object(o["createElementVNode"])("div",null,[Ue,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.tempUser.email=e}),disabled:"",type:"text",class:"form-control",id:"title",placeholder:"不得修改"},null,512),[[o["vModelText"],c.tempUser.email]])])])])]),Object(o["createElementVNode"])("div",Fe,[Object(o["createElementVNode"])("div",$e,[Object(o["createElementVNode"])("div",Pe,[Object(o["createElementVNode"])("div",null,[ze,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.tempUser.displayName=e}),type:"text",class:"form-control",id:"title",placeholder:"輸入姓名"},null,512),[[o["vModelText"],c.tempUser.displayName]])])])])])])])]),Object(o["createElementVNode"])("div",Ge,[We,Object(o["createElementVNode"])("button",{onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return a.updateUser&&a.updateUser.apply(a,arguments)}),["stop"])),type:"button",class:"btn btn-primary"},"確認")])])])],512)}var qe=r("c9c0"),Qe={inject:["toNormalTime","toTimestamp"],mixins:[qe["a"]],props:{user:{type:Object,default:function(){return{}}}},emits:["update-user"],data:function(){return{tempUser:{email:"",displayName:""}}},watch:{user:function(){this.tempUser=this.user}},methods:{updateUser:function(){this.$emit("update-user",this.tempUser),this.closeModal()}}};const Ye=Ve()(Qe,[["render",Re]]);var Je=Ye,Xe={class:"shadow-sm d-flex flex-column bg-light"},He=Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",{class:"row g-0"},[Object(o["createElementVNode"])("th",{class:"col-12"},[Object(o["createElementVNode"])("h3",{class:"title"},"購物車")])]),Object(o["createElementVNode"])("tr",{class:"row d-none d-md-flex"},[Object(o["createElementVNode"])("th",{class:"col-5 p-2"},"商品資料"),Object(o["createElementVNode"])("th",{class:"col-3 p-2"},"單價價格"),Object(o["createElementVNode"])("th",{class:"col-1 p-2"},"數量"),Object(o["createElementVNode"])("th",{class:"col-3 p-2"},"小計")])],-1),Ke={class:"col-10 col-md-5 d-flex align-items-center p-2"},Ze=["src"],et={class:"fs-6 fs-sm-4"},tt={class:"fs-6 fs-sm-5"},rt={class:"col-12 col-md-1 order-md-3 d-flex align-items-center fs-6 fs-sm-4 fw-bold p-2"},ot=Object(o["createElementVNode"])("span",{class:"d-md-none"},"數量： ",-1),nt={class:"col-6 col-md-3 order-md-2 fw-bold fs-6 fs-sm-4 d-flex align-items-center p-2"},ct=Object(o["createElementVNode"])("span",{class:"d-md-none"},"單價： ",-1),at={class:"col-6 col-md-3 order-md-4 fw-bold fs-6 fs-sm-4 d-flex align-items-center p-2 text-end text-md-start"},it=Object(o["createElementVNode"])("span",{class:"d-md-none"},"小計： ",-1),st={class:"row"},lt=Object(o["createElementVNode"])("td",{class:"col-6 fs-5"},"原價：",-1),dt={class:"col-6 text-end fs-5"},ut={class:"row"},mt={class:"col-6 fs-6 fs-sm-5 text-secondary fw-bold mb-4"},bt={class:"col-6 text-end fs-6 fs-sm-5 text-secondary fw-bold"},ht={class:"row mb-4"},pt=Object(o["createElementVNode"])("td",{class:"col-6 fs-5 fs-sm-4 fw-bold"},"總計:",-1),ft={class:"col-6 fs-5 fs-sm-4 text-end fw-bold"};function gt(e,t,r,n,c,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{ref:"collapse".concat(r.index),class:"collapse"},[Object(o["createElementVNode"])("table",Xe,[He,Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.order.products,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:e.id},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.sizeObj,(function(t,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t,class:"row g-0 border-bottom"},[Object(o["createElementVNode"])("td",Ke,[Object(o["createElementVNode"])("img",{class:"w-50 me-2",src:e.product.imageUrl,alt:""},null,8,Ze),Object(o["createElementVNode"])("h4",et,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.product.title)+" ",1),Object(o["createElementVNode"])("span",tt,Object(o["toDisplayString"])("(".concat(r,")")),1)])]),Object(o["createElementVNode"])("td",rt,[ot,Object(o["createTextVNode"])(Object(o["toDisplayString"])(t),1)]),Object(o["createElementVNode"])("td",nt,[ct,Object(o["createTextVNode"])("NT$"+Object(o["toDisplayString"])(a.currency(e.product.price)),1)]),Object(o["createElementVNode"])("td",at,[it,Object(o["createTextVNode"])("NT$"+Object(o["toDisplayString"])(a.currency(e.product.price*t)),1)])])})),128))],64)})),128))]),Object(o["createElementVNode"])("tfoot",null,[c.priceGap?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createElementVNode"])("tr",st,[lt,Object(o["createElementVNode"])("td",dt,"NT$ "+Object(o["toDisplayString"])(c.originTotal),1)]),Object(o["createElementVNode"])("tr",ut,[Object(o["createElementVNode"])("td",mt,"優惠："+Object(o["toDisplayString"])(c.discount),1),Object(o["createElementVNode"])("td",bt,"省去 -NT$ "+Object(o["toDisplayString"])(c.priceGap),1)])],64)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("tr",ht,[pt,Object(o["createElementVNode"])("td",ft,"NT$ "+Object(o["toDisplayString"])(a.currency(r.order.total)),1)])])])],512)}r("a9e3"),r("b64b");var Ot=r("810f"),yt=r.n(Ot),jt={inject:["toNormalTime","currency"],props:{order:{type:Object},index:{type:Number}},data:function(){return{tempOrder:[],myCollapse:null,originTotal:0,priceGap:"",discount:""}},methods:{toggleCollapse:function(){this.myCollapse.toggle()}},watch:{order:function(){var e=this;this.tempOrder=Object(me["a"])({},this.order);var t=this.order.total;Object.keys(this.order.products).forEach((function(t){e.originTotal+=e.order.products[t].total})),this.priceGap=this.originTotal-t,this.discount="".concat(t/this.originTotal*100,"%")}},mounted:function(){var e=this;this.tempOrder=Object(me["a"])({},this.order);var t=this.order.total;Object.keys(this.order.products).forEach((function(t){e.originTotal+=e.order.products[t].total})),this.priceGap=this.originTotal-t,this.discount="".concat(t/this.originTotal*100,"%"),this.myCollapse=new yt.a(this.$refs["collapse".concat(this.index)],{toggle:!1})}};const vt=Ve()(jt,[["render",gt]]);var Et=vt,Nt={inject:["putMessageState","emitter","getFavoriteIdAry","toNormalTime","currency"],name:"Member",data:function(){return{products:[],favoriteIdAry:this.getFavoriteIdAry(),favoriteProductAry:[],orders:[],category:"帳號",isLoading:!1,user:{email:"",displayName:""},tempUser:{},pagination:[]}},components:{MemberSidebar:xe,MemberModal:Je,Card:ge["a"],OrderDropdown:Et},methods:{getProducts:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/products/all");this.$http.get(t).then((function(t){e.products=t.data.products,e.getfavoriteProductAry()})).catch((function(t){e.isLoading=!1,e.emitter.emit("push-message",{content:t,state:!1})}))},getAllOrders:function(){var e=this;return he(regeneratorRuntime.mark((function t(){var r,o,n,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,r=[],t.prev=2,t.next=5,e.getOrdersPage();case 5:for(o=t.sent,n=1;n<=o.total_pages;n+=1)c=n,a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/orders?page=").concat(c),r.push(e.getSinglePageOrders(a));Promise.all(r).then((function(t){t.forEach((function(t){e.orders=e.orders.concat(t)})),e.isLoading=!1})),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),e.isLoading=!1,e.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1});case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},getOrdersPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/orders?page=").concat(t);return this.$http.get(r).then((function(e){return e.data.pagination})).catch((function(){e.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},getSinglePageOrders:function(e){var t=this;return this.$http.get(e).then((function(e){return e.data.orders})).catch((function(){t.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},getfavoriteProductAry:function(){var e=this;this.favoriteProductAry=this.products.filter((function(t){return e.favoriteIdAry.includes(t.id)})),this.isLoading=!1},changeCategory:function(e){this.category=e},openModal:function(){this.tempUser=Object(me["a"])({},this.user),this.$refs.memberModal.openModal()},updateUser:function(e){var t=this;Object(pe["h"])(fe["a"].currentUser,{displayName:e.displayName}).then((function(){t.getAuthState(),t.emitter.emit("push-message",{content:"帳號資料已更新",state:!0})})).catch((function(){t.getAuthState(),t.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},sendEmailVerification:function(){var e=this;this.isLoading=!0,Object(pe["d"])(fe["a"].currentUser).then((function(){e.isLoading=!1,e.emitter.emit("push-message",{content:"驗證信已發送到您的信箱，請點選信中驗證連結",state:!0})}))},getAuthState:function(){var e=this;this.isLoading=!0,Object(pe["c"])(fe["a"],(function(t){t?(e.isLoading=!1,e.user.email=t.email,e.user.displayName=t.displayName,e.user.emailVerified=t.emailVerified):e.$router.push("/login")}))},switchDropdown:function(e,t){e.target.classList.toggle("dropdown-show"),this.$refs["orderDropdown-".concat(t)][0].toggleCollapse()},pay:function(e){var t=this;this.isLoading=!0;var r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("z80823","/pay/").concat(e);this.$http.post(r).then((function(r){r.data.success?(t.putMessageState(r,"付款"),t.isLoading=!1,t.$router.push("/carts/payment/".concat(e))):(t.putMessageState(r,"付款"),t.isLoading=!1)})).catch((function(){t.isLoading=!1,t.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))},signOut:function(){var e=this;this.isLoading=!0,Object(pe["g"])(fe["a"]).then((function(){e.isLoading=!1,e.emitter.emit("push-message",{content:"帳號已經登出",state:!0})})).catch((function(){e.emitter.emit("push-message",{content:"發生錯誤，請重新整理頁面",state:!1})}))}},computed:{orderFilter:function(){var e=this;return this.orders.filter((function(t){return e.user.email===t.user.email}))}},created:function(){this.getAuthState(),this.getProducts(),this.getAllOrders()},mounted:function(){var e=this;this.emitter.on("getFavoriteIdAry",(function(){e.favoriteIdAry=e.getFavoriteIdAry(),e.getfavoriteProductAry()}))},beforeUnmount:function(){var e=this;this.emitter.off("getFavoriteIdAry",(function(){e.favoriteIdAry=e.getFavoriteIdAry(),e.getfavoriteProductAry()}))}};const wt=Ve()(Nt,[["render",ue]]);t["default"]=wt}}]);
//# sourceMappingURL=chunk-6f383d54.1cc5c2be.js.map